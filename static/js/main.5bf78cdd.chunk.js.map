{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["esvtAddress","App","useState","message","setMessageValue","messageHash","setMessageHash","signature","setSignature","address","setAddress","requestAccount","a","window","ethereum","request","method","provider","ethers","providers","Web3Provider","contract","Contract","ESVT","abi","recoverOwner","signer","getSigner","utils","hashMessage","signMessage","signedMSG","className","htmlFor","type","id","name","autoComplete","onChange","e","target","value","placeholder","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"ssKAQMA,EAAc,6CAqELC,MAnEf,WAAgB,IAAD,EACsBC,qBADtB,mBACNC,EADM,KACGC,EADH,OAEyBF,qBAFzB,mBAENG,EAFM,KAEOC,EAFP,OAGqBJ,qBAHrB,mBAGNK,EAHM,KAGKC,EAHL,OAIiBN,qBAJjB,mBAINO,EAJM,KAIGC,EAJH,cAQEC,IARF,2EAQb,sBAAAC,EAAA,sEACQC,OAAOC,SAASC,QAAQ,CAAEC,OAAQ,wBAD1C,4CARa,kEAYb,gCAAAJ,EAAA,yDACiC,qBAApBC,OAAOC,SADpB,gCAEUH,IAFV,cAIUM,EAAW,IAAIC,IAAOC,UAAUC,aAAaP,OAAOC,UACpDO,EAAW,IAAIH,IAAOI,SAAStB,EAAauB,EAAKC,IAAKP,GALhE,SAO0BI,EAASI,aAAapB,EAAaE,GAP7D,OAOUE,EAPV,OAQIC,EAAWD,GARf,4CAZa,kEAwBb,kCAAAG,EAAA,yDACiC,qBAApBC,OAAOC,SADpB,iCAEUH,IAFV,cAGUM,EAAW,IAAIC,IAAOC,UAAUC,aAAaP,OAAOC,UACpDY,EAAST,EAASU,YAElBtB,EAAca,IAAOU,MAAMC,YAAY1B,GAC7CG,EAAeD,GAPnB,SAS4BqB,EAAOI,YAAY3B,GAT/C,OASU4B,EATV,OAUIvB,EAAauB,GAVjB,6CAxBa,sBAsCb,OACE,sBAAKC,UAAU,OAAf,UACE,sCACA,iCACE,oBAAIA,UAAU,gBAAd,SACE,uBAAOC,QAAQ,UAAUD,UAAU,YAAnC,iDAIF,uBACEE,KAAK,OACLC,GAAG,UACHH,UAAU,kBACVI,KAAK,OACLC,aAAa,MACbC,SAAU,SAAAC,GAAC,OAAInC,EAAgBmC,EAAEC,OAAOC,QAAQC,YAAY,YAE9D,wBAAQR,KAAK,SAASF,UAAU,2BAA2BW,QAvDpD,2CAuDP,kBACA,wBAAQT,KAAK,SAASF,UAAU,2BAA2BW,QAxDpD,2CAwDP,oBACA,mDAAsBxC,KACtB,+CAAkBE,KAClB,4CAAeE,KACf,0CAAaE,KACb,mDAAsBT,YC3Df4C,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.5bf78cdd.chunk.js","sourcesContent":["import './App.css';\nimport React, { useState } from 'react';\nimport { ethers } from 'ethers'\nimport ESVT from './artifacts/contracts/ESVT.sol/ESVT.json'\n\n// Contract address (local)\n//const esvtAddress = \"0x5FbDB2315678afecb367f032d93F642f64180aa3\"\n// Rinkeby address\nconst esvtAddress = \"0xb330060C65B462ebC71CDeb8C4E81f5B0394C42B\"\n\nfunction App() {\n  const [message, setMessageValue] = useState() // Input message\n  const [messageHash, setMessageHash] = useState()\n  const [signature, setSignature] = useState()\n  const [address, setAddress] = useState()\n\n\n  // Request access to metamask account\n  async function requestAccount() {\n    await window.ethereum.request({ method: 'eth_requestAccounts' });\n  }\n\n  async function verifySignature() {\n    if (typeof window.ethereum !== 'undefined') {\n      await requestAccount()\n\n      const provider = new ethers.providers.Web3Provider(window.ethereum)\n      const contract = new ethers.Contract(esvtAddress, ESVT.abi, provider)\n\n      const address = await contract.recoverOwner(messageHash, signature)\n      setAddress(address)\n    }\n  }\n\n  async function signMessage() {\n    if (typeof window.ethereum !== 'undefined') {\n      await requestAccount()\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const signer = provider.getSigner()\n\n      const messageHash = ethers.utils.hashMessage(message)\n      setMessageHash(messageHash)\n\n      const signedMSG = await signer.signMessage(message)\n      setSignature(signedMSG)\n    }\n  }\n\n  return (\n    <div className=\"esvt\">\n      <h1>ESVT</h1>\n      <form>\n        <h2 className=\"label-wrapper\">\n          <label htmlFor=\"message\" className=\"label__lg\">\n            ECDSA Signature Verification Tool\n          </label>\n        </h2>\n        <input\n          type=\"text\"\n          id=\"message\"\n          className=\"input input__lg\"\n          name=\"text\"\n          autoComplete=\"off\"\n          onChange={e => setMessageValue(e.target.value)} placeholder=\"Message\"\n        />\n        <button type='button' className=\"btn btn__primary btn__lg\" onClick={signMessage}>SIGN</button>\n        <button type='button' className=\"btn btn__primary btn__lg\" onClick={verifySignature}>VERIFY</button>\n        <p>Original Message: {message}</p>\n        <p>Message Hash: {messageHash}</p>\n        <p>Signature: {signature}</p>\n        <p>Address: {address}</p>\n        <p>Contract address: {esvtAddress}</p>\n      </form>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}